<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RouteCoinMe - GPS Route Aggregation & 3D Visualization</title>
    <meta name="description" content="Aggregate GPS routes from Strava and visualize cumulative climbing in 3D">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="/src/styles/main.css">
</head>
<body>
    <input type="file" id="gpx-file-input" class="visually-hidden-input" accept=".gpx,.xml" multiple>
    <div id="app">
        <header class="header">
            <div class="container">
                <h1 class="logo">RouteCoinMe</h1>
                <button id="nav-toggle" class="nav-toggle" type="button" aria-controls="primary-nav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="nav-toggle-bar"></span>
                    <span class="nav-toggle-bar"></span>
                    <span class="nav-toggle-bar"></span>
                </button>
                <nav id="primary-nav" class="nav">
                    <button id="unit-toggle-btn" class="btn btn-secondary" type="button">Use miles + feet</button>
                    <button id="auth-btn" class="btn btn-primary">Connect with Strava</button>
                </nav>
            </div>
        </header>

        <main class="main">
            <div class="container">
                <section class="hero">
                    <h2>Visualize Your Cumulative Climbing Adventures</h2>
                    <p>Aggregate multiple GPS routes from Strava and see your total elevation gains in stunning 3D.</p>
                    <div class="feature-grid">
                        <div class="feature-card">
                            <h3>üìà Elevation Aggregation</h3>
                            <p>Combine multiple routes to see total climbing achievements over time</p>
                        </div>
                        <div class="feature-card">
                            <h3>üóª 3D Visualization</h3>
                            <p>Interactive 3D viewer with elevation emphasis and climbing-only modes</p>
                        </div>
                        <div class="feature-card">
                            <h3>üíæ Export & Save</h3>
                            <p>Download aggregated routes as GPX files and manage your route library</p>
                        </div>
                        <div class="feature-card">
                            <h3>üîí Privacy First</h3>
                            <p>All processing and storage happens locally on your device, unless you choose to connect with Strava</p>
                        </div>
                    </div>
                </section>

                <section class="demo-area">
                    <div id="demo-placeholder" class="demo-placeholder">
                        <!-- Landing State UI -->
                        <div id="landing-state" class="landing-state">
                            <h3>3D Route Visualization</h3>
                            <p>Your aggregated routes will appear here in interactive 3D</p>
                            <div class="placeholder-chart">
                                <div class="chart-line"></div>
                                <div class="chart-line"></div>
                                <div class="chart-line"></div>
                            </div>
                            <button id="landing-upload-btn" class="btn btn-primary" onclick="window.fileUploader?.showFileUploadUI()">
                                üìÅ Upload GPX Files to Get Started
                            </button>
                        </div>

                        <!-- File Upload UI -->
                        <div id="file-upload-section" class="file-upload-section" style="display: none;">
                            <label for="gpx-file-input" id="upload-area" class="upload-area">
                                <div class="upload-content">
                                    <div class="upload-icon">üìÅ</div>
                                    <h3>Drop GPX files here or tap to browse</h3>
                                    <p>Upload your GPX route files to get started</p>
                                </div>
                            </label>
                        </div>

        <!-- Route Visualization UI -->
        <div id="route-visualization-area" class="gpx-upload-area" style="display: none;">

            <!-- Loading State -->
            <div id="loading-state" class="loading-section" style="display: none;">
                <h3>ÔøΩ Processing GPX Files...</h3>
                <p>Parsing GPS data and calculating route statistics</p>
                <div class="loading-spinner">
                    <div class="spinner"></div>
                </div>
            </div>

            <!-- Main Content (hidden during loading) -->
            <div id="main-content">
                <div class="aggregation-layout">
                    <section class="visualization-column">
                        <div class="visualization-header">
                            <h3>üìä GPX Routes Loaded</h3>
                            <div class="visualization-header-actions">
                                <button id="sidebar-toggle" class="sidebar-toggle-btn" type="button" aria-controls="aggregation-sidebar" aria-expanded="false">
                                    ‚öôÔ∏è Coin Controls
                                </button>
                                <div id="viewer-toggle-buttons" class="viewer-toggle-buttons">
                                    <button id="map-view-btn" class="viewer-toggle-btn active" type="button">
                                        üó∫Ô∏è Map View
                                    </button>
                                    <button id="view-coin-btn" class="viewer-toggle-btn" type="button">
                                        ü™ô View Coin
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Route Statistics -->
                        <div class="route-stats">
                            <div class="stat-item">
                                <span id="stat-routes-count" class="stat-number">0</span>
                                <span class="stat-label">Routes</span>
                            </div>
                            <div class="stat-item">
                                <span id="stat-total-distance" class="stat-number">0.0km</span>
                                <span class="stat-label">Total Distance</span>
                            </div>
                            <div class="stat-item">
                                <span id="stat-total-elevation" class="stat-number">0m</span>
                                <span class="stat-label">Total Elevation</span>
                            </div>
                        </div>

                        <!-- Map Container -->
                        <div id="map-container" class="map-container" style="display: block;">
                            <div id="route-map"></div>
                            <div class="map-controls">
                                <button id="map-fullscreen-btn" class="map-control-btn" onclick="window.fileUploader.toggleFullscreen()" title="Toggle Fullscreen">
                                    üìê
                                </button>
                                <button id="map-fit-btn" class="map-control-btn" onclick="window.fileUploader.fitMapToRoutes()" title="Fit All Routes">
                                    üîç
                                </button>
                            </div>
                        </div>

                        <!-- View Coin Container -->
                        <div id="viewer-3d-container" class="viewer-3d-container" style="display: none;">
                            <div id="route-3d-viewer" style="width: 100%; height: 100%; position: relative;"></div>

                            <!-- Zoom Controls - Top Left -->
                            <div class="control-overlay control-top-left">
                                <button id="3d-zoom-in-btn" class="control-btn" onclick="window.fileUploader.zoomIn3D()" title="Zoom In">+</button>
                                <button id="3d-zoom-out-btn" class="control-btn" onclick="window.fileUploader.zoomOut3D()" title="Zoom Out">‚àí</button>
                            </div>

                            <!-- View Controls - Top Right -->
                            <div class="control-overlay control-top-right">
                                <button id="3d-fit-view-btn" class="control-btn" onclick="window.fileUploader.fitToView3D()" title="Fit to View">‚ñ≥</button>
                                <button id="3d-reset-view-btn" class="control-btn" onclick="window.fileUploader.resetView3D()" title="Reset View">üè†</button>
                            </div>

                            <!-- Display Options - Bottom Right -->
                            <div class="control-overlay control-bottom-right">
                                <label class="control-checkbox">
                                    <input type="checkbox" id="filled-area-toggle" checked
                                           onchange="window.fileUploader.toggleFilledArea(this.checked)">
                                    <span>Filled Areas</span>
                                </label>
                            </div>

                            <div id="viewer-3d-status" class="viewer-3d-status">
                                <span>Mouse: rotate ‚Ä¢ Wheel: zoom</span>
                            </div>
                        </div>

                        <!-- Routes & Coins Lists -->
                        <div class="list-tabs" id="list-tabs">
                            <div class="tab-buttons" role="tablist" aria-label="Routes and saved coins">
                                <button id="routes-tab-btn" class="tab-button active" type="button" role="tab" aria-selected="true" aria-controls="routes-tab-panel" data-target="routes">
                                    Routes
                                </button>
                                <button id="coins-tab-btn" class="tab-button tab-button-coins" type="button" role="tab" aria-selected="false" aria-controls="coins-tab-panel" data-target="coins">
                                    üí∞ Saved Coins
                                </button>
                            </div>
                            <div id="routes-tab-panel" class="tab-panel active" role="tabpanel" aria-labelledby="routes-tab-btn">
                                <div id="route-list" class="list-panel"></div>
                            </div>
                            <div id="coins-tab-panel" class="tab-panel" role="tabpanel" aria-labelledby="coins-tab-btn" aria-hidden="true">
                                <div id="coin-list" class="list-panel"></div>
                            </div>
                        </div>

                        <!-- Upload Actions -->
                        <div id="upload-actions" class="upload-actions">
                            <label for="gpx-file-input" id="upload-more-btn" class="btn btn-primary">
                                üìÅ Upload More GPX Files
                            </label>
                            <button id="clear-all-btn" class="btn btn-secondary" onclick="window.fileUploader.clearAllRoutes()">
                                üóëÔ∏è Clear All Routes
                            </button>
                        </div>

                        <!-- Drop Zone Hint -->
                        <div id="drop-zone-hint" class="drop-zone-hint">
                            <p>üí° Tip: You can also drag & drop GPX files anywhere on this page</p>
                        </div>
                    </section>

                    <aside id="aggregation-sidebar" class="aggregation-sidebar" aria-hidden="false">
                        <button id="sidebar-close-btn" class="sidebar-close-btn" type="button" aria-label="Close coin controls">√ó</button>
                        <h4>Coin Controls</h4>

                        <div class="sidebar-group">
                            <span class="group-label">Elevation Mode</span>
                            <label class="radio-option">
                                <input type="radio" name="elevation-mode" id="elevation-mode-actual" value="actual" checked>
                                <span>Actual Elevation</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="elevation-mode" id="elevation-mode-cumulative" value="cumulative">
                                <span>Cumulative Climbing</span>
                            </label>
                        </div>

                        <div class="sidebar-group">
                            <label for="overlay-select" class="group-label">Overlay</label>
                            <select id="overlay-select" class="sidebar-select">
                                <option value="real">Real Route</option>
                                <option value="spiral.json">Spiral Overlay</option>
                                <option value="semi-circle.json">Semi-Circle Overlay</option>
                                <option value="switchbacks.json">Switchbacks Overlay</option>
                                <option value="sa-calobra.json">Sa Calobra Overlay</option>
                                <option value="stelvio.json">Stelvio Pass Overlay</option>
                            </select>
                        </div>

                        <div class="sidebar-group">
                            <span class="group-label">Distribution</span>
                            <label class="radio-option">
                                <input type="radio" name="aggregation-domain" id="domain-distance" value="distance" checked>
                                <span>Distance Based</span>
                            </label>
                            <label class="radio-option radio-option-disabled">
                                <input type="radio" name="aggregation-domain" id="domain-time" value="time" disabled>
                                <span>Time Based</span>
                            </label>
                            <p class="helper-text">Time distribution unlocks with a fictional overlay.</p>
                        </div>

                        <div class="sidebar-actions">
                            <button id="save-coin-btn" class="btn btn-primary" type="button" disabled>üíæ Save Coin</button>
                            <button id="download-coin-btn" class="btn btn-secondary" type="button" disabled>‚¨áÔ∏è Download My Coin</button>
                            <button id="clear-coin-btn" class="btn btn-secondary" type="button" disabled>‚úñÔ∏è Clear Coin</button>
                        </div>
                    </aside>
                    <div id="sidebar-overlay" class="sidebar-overlay" hidden></div>
                </div>
            </div>  <!-- End main-content -->
        </div>  <!-- End route-visualization-area -->
                    </div>
                </section>
            </div>
        </main>

        <footer class="footer">
            <div class="container">
                <p>&copy; 2025 RouteCoinMe. Built with privacy in mind.</p>
                <div class="footer-links">
                    <a href="#" onclick="showPrivacyPolicy()">Privacy Policy</a>
                    <a href="#" onclick="showTermsOfService()">Terms of Service</a>
                    <a href="https://github.com/bsyk/routecoinme" target="_blank">GitHub</a>
                </div>
            </div>
        </footer>
    </div>

    <!-- Privacy Policy Modal -->
    <div id="privacy-policy-modal" class="privacy-modal-overlay" style="display: none;">
        <div class="privacy-modal">
            <div class="privacy-modal-header">
                <h2>üîí Privacy Policy</h2>
                <button class="modal-close" onclick="hidePrivacyPolicy()">√ó</button>
            </div>
            
            <div class="privacy-modal-content">
                <div class="privacy-section">
                    <h3>üì± Local-First Approach</h3>
                    <p>RouteCoinMe is designed with your privacy as our top priority. All your GPS route data is processed and stored locally on your device by default. If you choose to import activities from Strava, we temporarily relay that activity through our secure cloud importer to deliver it to your browser; the data is discarded immediately after transfer and never logged or stored on our servers.</p>
                </div>

                <div class="privacy-section">
                    <h3>üóÇÔ∏è What Data We Process</h3>
                    <ul>
                        <li><strong>GPX Files:</strong> Your uploaded route files are processed entirely in your browser</li>
                        <li><strong>Route Statistics:</strong> Distance, elevation, and timing data calculated locally</li>
                        <li><strong>Browser Storage:</strong> Routes saved to your device's local storage for convenience</li>
                        <li><strong>Strava Imports:</strong> Selected Strava activities pass through our stateless cloud relay only long enough to reach your browser; nothing is persisted</li>
                        <li><strong>No Personal Information:</strong> We don't collect names, emails, or any identifying data</li>
                    </ul>
                </div>

                <div class="privacy-section">
                    <h3>üíæ Data Storage</h3>
                    <p>Your route data is stored using your browser's local storage mechanisms (IndexedDB or localStorage). This means:</p>
                    <ul>
                        <li>Data stays on your device and is never transmitted to external servers unless you use the Strava importer</li>
                        <li>Strava imports are streamed directly to your browser without being saved on our servers</li>
                        <li>Only you have access to your stored routes</li>
                        <li>Clearing your browser data will remove stored routes</li>
                        <li>No cloud synchronization or backup unless you explicitly choose it</li>
                    </ul>
                </div>

                <div class="privacy-section">
                    <h3>üåê Third-Party Services</h3>
                    <p>RouteCoinMe uses minimal third-party services for core functionality:</p>
                    <ul>
                        <li><strong>OpenStreetMap:</strong> Map tiles for route visualization (no personal data sent)</li>
                        <li><strong>Leaflet Maps:</strong> Client-side mapping library (no data transmission)</li>
                        <li><strong>Three.js:</strong> 3D visualization library (runs entirely in your browser)</li>
                        <li><strong>RouteCoinMe Strava Importer:</strong> Cloud relay that fetches Strava activities you select and forwards them to your browser without logging or persistence</li>
                    </ul>
                </div>

                <div class="privacy-section">
                    <h3>üîó Optional Strava Integration</h3>
                    <p>If you choose to connect with Strava (completely optional):</p>
                    <ul>
                        <li>You explicitly authorize the connection through Strava's official OAuth</li>
                        <li>Only route data you specifically select is shared</li>
                        <li>Our cloud importer briefly processes the selected activity to pass it to your device and then discards it</li>
                        <li>You can disconnect at any time</li>
                        <li>Strava's privacy policy applies to data shared with their service</li>
                        <li>Local processing remains the default for all operations</li>
                    </ul>
                </div>

                <div class="privacy-section">
                    <h3>üìä Analytics and Tracking</h3>
                    <p>We believe in complete transparency:</p>
                    <ul>
                        <li><strong>No Analytics:</strong> We don't use Google Analytics or similar tracking</li>
                        <li><strong>No Cookies:</strong> No tracking cookies or session cookies</li>
                        <li><strong>No Fingerprinting:</strong> We don't attempt to identify or track users</li>
                        <li><strong>No Server Logs:</strong> We never log Strava import payloads or any route content on our servers</li>
                    </ul>
                </div>

                <div class="privacy-section">
                    <h3>üõ°Ô∏è Data Security</h3>
                    <p>Since all processing happens locally:</p>
                    <ul>
                        <li>Your route data never travels over the internet unless you opt into Strava imports</li>
                        <li>Strava imports travel over encrypted channels and are not stored or logged by us</li>
                        <li>No risk of data breaches from our servers (we don't store your data)</li>
                        <li>Browser security features protect your local data</li>
                        <li>You maintain complete control over your information</li>
                    </ul>
                </div>

                <div class="privacy-section">
                    <h3>üîÑ Data Export and Deletion</h3>
                    <p>You have complete control over your data:</p>
                    <ul>
                        <li><strong>Export:</strong> Download any route as a GPX file at any time</li>
                        <li><strong>Delete:</strong> Remove individual routes or clear all data instantly</li>
                        <li><strong>Portable:</strong> Your exported GPX files work with any GPS software</li>
                        <li><strong>No Vendor Lock-in:</strong> Switch to any other service anytime</li>
                    </ul>
                </div>

                <div class="privacy-section">
                    <h3>üìû Contact</h3>
                    <p>Questions about our privacy practices? Since we don't collect your data, there's nothing for us to misuse! But if you have concerns or suggestions, you can reach us through:</p>
                    <ul>
                        <li><strong>GitHub Issues:</strong> <a href="https://github.com/bsyk/routecoinme/issues" target="_blank">github.com/bsyk/routecoinme</a></li>
                        <li><strong>Open Source:</strong> Review our code to verify our privacy claims</li>
                    </ul>
                </div>

                <div class="privacy-section">
                    <h3>üìÖ Policy Updates</h3>
                    <p>This privacy policy may be updated to reflect new features or clarify existing practices. Any changes will:</p>
                    <ul>
                        <li>Maintain our local-first, privacy-first approach</li>
                        <li>Be clearly communicated through the application</li>
                        <li>Never reduce your privacy protections without your explicit consent</li>
                    </ul>
                    <p><strong>Last Updated:</strong> November 30, 2025</p>
                </div>
            </div>
            
            <div class="privacy-modal-actions">
                <button class="btn btn-primary" onclick="hidePrivacyPolicy()">
                    I Understand
                </button>
            </div>
        </div>
    </div>

    <!-- Terms of Service Modal -->
    <div id="terms-of-service-modal" class="privacy-modal-overlay" style="display: none;">
        <div class="privacy-modal">
            <div class="privacy-modal-header">
                <h2>üìã Terms of Service</h2>
                <button class="modal-close" onclick="hideTermsOfService()">√ó</button>
            </div>
            
            <div class="privacy-modal-content">
                <div class="privacy-section">
                    <h3>üéØ Service Description</h3>
                    <p>RouteCoinMe is a free, open-source web application that processes GPS route data locally on your device. We provide tools for aggregating, visualizing, and analyzing GPS routes from GPX files, with optional integration with third-party services like Strava. When you import from Strava, we use a secure cloud relay to fetch the selected activity and deliver it to your browser without retaining or logging the data.</p>
                </div>

                <div class="privacy-section">
                    <h3>‚úÖ Acceptance of Terms</h3>
                    <p>By using RouteCoinMe, you agree to these Terms of Service. If you don't agree with any part of these terms, please don't use our service.</p>
                </div>

                <div class="privacy-section">
                    <h3>üîì Open Source License</h3>
                    <p>RouteCoinMe is released under an open source license. You are free to:</p>
                    <ul>
                        <li><strong>Use:</strong> The application for any purpose, personal or commercial</li>
                        <li><strong>Study:</strong> Examine the source code to understand how it works</li>
                        <li><strong>Modify:</strong> Adapt the code for your own needs</li>
                        <li><strong>Distribute:</strong> Share the application and your modifications</li>
                    </ul>
                    <p>The complete source code is available on <a href="https://github.com/bsyk/routecoinme" target="_blank">GitHub</a>.</p>
                </div>

                <div class="privacy-section">
                    <h3>üíª Local Processing</h3>
                    <p>RouteCoinMe operates entirely in your web browser. This means:</p>
                    <ul>
                        <li>All GPS route processing happens on your device unless you opt into Strava imports</li>
                        <li>Strava imports are relayed through our cloud importer solely to reach your browser and are discarded immediately</li>
                        <li>You maintain complete control over your route data</li>
                        <li>The service works offline once loaded</li>
                    </ul>
                </div>

                <div class="privacy-section">
                    <h3>‚òÅÔ∏è Strava Import Handling</h3>
                    <p>To support Strava imports, we operate a lightweight cloud service that:</p>
                    <ul>
                        <li>Requests the specific activity you select via Strava's API</li>
                        <li>Streams the activity data directly to your browser over an encrypted connection</li>
                        <li>Does not log, cache, or store the activity contents once delivery is complete</li>
                        <li>Allows you to clear all imported data from your browser at any time</li>
                    </ul>
                </div>

                <div class="privacy-section">
                    <h3>üîó Third-Party Services</h3>
                    <p>RouteCoinMe may integrate with external services:</p>
                    <ul>
                        <li><strong>Strava:</strong> Optional integration subject to Strava's terms and privacy policy, delivered through our non-persistent cloud relay</li>
                        <li><strong>RouteCoinMe Strava Importer:</strong> Secure cloud worker that fetches your selected Strava activity without retaining data</li>
                        <li><strong>OpenStreetMap:</strong> Map tiles provided under OpenStreetMap's terms</li>
                        <li><strong>CDN Services:</strong> For loading map tiles and libraries</li>
                    </ul>
                    <p>When you choose to use these integrations, you are subject to their respective terms of service.</p>
                </div>

                <div class="privacy-section">
                    <h3>üö´ Prohibited Uses</h3>
                    <p>While using RouteCoinMe, you agree not to:</p>
                    <ul>
                        <li>Use the service for any illegal or unauthorized purpose</li>
                        <li>Attempt to reverse engineer or extract our algorithms for commercial use</li>
                        <li>Upload malicious files or attempt to compromise the service</li>
                        <li>Violate any applicable laws or regulations</li>
                        <li>Infringe on intellectual property rights of others</li>
                    </ul>
                </div>

                <div class="privacy-section">
                    <h3>üìä Your Data and Content</h3>
                    <p>You retain full ownership of your GPS route data:</p>
                    <ul>
                        <li><strong>Ownership:</strong> You own all route data you upload or create</li>
                        <li><strong>Control:</strong> You can export, modify, or delete your data at any time</li>
                        <li><strong>Privacy:</strong> Your data remains on your device unless you explicitly share it</li>
                        <li><strong>Responsibility:</strong> You are responsible for ensuring you have rights to upload any data</li>
                    </ul>
                </div>

                <div class="privacy-section">
                    <h3>üõ°Ô∏è Disclaimers</h3>
                    <p>RouteCoinMe is provided "as is" without warranties of any kind:</p>
                    <ul>
                        <li><strong>Accuracy:</strong> We don't guarantee the accuracy of route calculations or visualizations</li>
                        <li><strong>Availability:</strong> The service may be temporarily unavailable for maintenance</li>
                        <li><strong>Fitness for Purpose:</strong> Use of GPS data for navigation or safety purposes is at your own risk</li>
                        <li><strong>Data Loss:</strong> While we use local storage, you should backup important route data</li>
                    </ul>
                </div>

                <div class="privacy-section">
                    <h3>‚öñÔ∏è Limitation of Liability</h3>
                    <p>To the maximum extent permitted by law:</p>
                    <ul>
                        <li>We are not liable for any direct, indirect, or consequential damages</li>
                        <li>Our total liability shall not exceed the amount you paid for the service (which is $0)</li>
                        <li>We are not responsible for data loss, though we design the service to prevent it</li>
                        <li>You use GPS route data for navigation or safety at your own risk</li>
                    </ul>
                </div>

                <div class="privacy-section">
                    <h3>üîÑ Service Changes</h3>
                    <p>We may modify or discontinue RouteCoinMe at any time:</p>
                    <ul>
                        <li>We'll provide reasonable notice of significant changes when possible</li>
                        <li>Your local data remains accessible even if the service changes</li>
                        <li>Open source nature means the community can continue development</li>
                        <li>You can always export your data in standard GPX format</li>
                    </ul>
                </div>

                <div class="privacy-section">
                    <h3>üìñ Open Source Community</h3>
                    <p>As an open source project:</p>
                    <ul>
                        <li>Community contributions are welcome and encouraged</li>
                        <li>Issues and feature requests can be submitted via GitHub</li>
                        <li>The project may be forked and developed independently</li>
                        <li>No single entity controls the entire ecosystem</li>
                    </ul>
                </div>

                <div class="privacy-section">
                    <h3>üåç Governing Law</h3>
                    <p>These terms are governed by the laws of the jurisdiction where the service is operated. Any disputes will be resolved through friendly discussion in the open source community first, with formal legal proceedings as a last resort.</p>
                </div>

                <div class="privacy-section">
                    <h3>üìß Contact</h3>
                    <p>Questions about these terms? Contact us through:</p>
                    <ul>
                        <li><strong>GitHub Issues:</strong> <a href="https://github.com/bsyk/routecoinme/issues" target="_blank">github.com/bsyk/routecoinme</a></li>
                        <li><strong>Community Discussions:</strong> Open source community channels</li>
                    </ul>
                </div>

                <div class="privacy-section">
                    <h3>üìÖ Terms Updates</h3>
                    <p>We may update these terms to reflect new features or legal requirements. Changes will:</p>
                    <ul>
                        <li>Be posted prominently in the application</li>
                        <li>Maintain the open source and privacy-first nature of the service</li>
                        <li>Be discussed openly in the community when significant</li>
                    </ul>
                    <p><strong>Last Updated:</strong> November 27, 2025</p>
                </div>
            </div>
            
            <div class="privacy-modal-actions">
                <button class="btn btn-primary" onclick="hideTermsOfService()">
                    I Understand
                </button>
            </div>
        </div>
    </div>

    <script>
        function showPrivacyPolicy() {
            document.getElementById('privacy-policy-modal').style.display = 'flex';
        }
        
        function hidePrivacyPolicy() {
            document.getElementById('privacy-policy-modal').style.display = 'none';
        }
        
        function showTermsOfService() {
            document.getElementById('terms-of-service-modal').style.display = 'flex';
        }
        
        function hideTermsOfService() {
            document.getElementById('terms-of-service-modal').style.display = 'none';
        }
        
        // Close modals when clicking outside
        document.getElementById('privacy-policy-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                hidePrivacyPolicy();
            }
        });
        
        document.getElementById('terms-of-service-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                hideTermsOfService();
            }
        });
    </script>

    <script type="module" src="/src/main.js"></script>
</body>
</html>
